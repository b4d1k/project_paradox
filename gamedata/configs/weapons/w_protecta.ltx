; Гладкоствольное ружье Armsel Protecta
;-(TrickSR)-----------------------------------------
; калибр 							12/70
; длина ствола 						305 мм
; магазин							12
; вес без магазина					4.2
; максимальная дальность стрельбы	560 м
; эффективная дальность стрельбы	60 м
; прицельная дальность				---
; дульная скорость пули				235 м/с
; темп стрельбы						210 в/м
;---------------------------------------------------

[wpn_protecta]:weapon_probability,default_weapon_params,wpn_protecta_sounds
GroupControlSection					= spawn_group
discovery_dependency 				=
$spawn 								= "weapons\protecta"	; option for Level Editor
$npc			 					= on					; option for Level Editor
$prefetch 		 					= 8
scheduled							= off					; option for ALife Simulator
cform								= skeleton
class								= WP_ASHTG
description							= st_wpn_protecta_descr

ef_main_weapon_type					= 1
ef_weapon_type						= 9

;-------------------------------------------------------------------------------
inv_name							= st_wpn_protecta
inv_name_short						= st_wpn_protecta

inv_grid_width						= 5
inv_grid_height						= 2
inv_grid_x							= 0
inv_grid_y							= 23

upgr_icon_x							= 1500
upgr_icon_y							= 300
upgr_icon_width						= 300
upgr_icon_height 					= 150

kill_msg_x							= 258
kill_msg_y							= 3
kill_msg_width						= 94
kill_msg_height						= 21

;-------------------------------------------------------------------------------
cost							 	= 9000
weapon_class			 			= shotgun
inv_weight							= 4.2
hud									= wpn_protecta_hud
visual 								= dynamics\weapons\wpn_protecta\wpn_protecta

upgrades							= up_gr_firstab_protecta, up_gr_seconab_protecta, up_gr_thirdab_protecta, up_gr_fourtab_protecta
installed_upgrades					=
upgrade_scheme						= upgrade_scheme_protecta

ph_mass					 			= 4

;-------------------------------------------------------------------------------
ammo_class		 					= ammo_12x70_buck, ammo_12x76_zhekan

startup_ammo 						= 90
ammo_current		 				= 72
ammo_elapsed		 				= 0
ammo_limit		 					= 84
ammo_mag_size		 				= 12

fire_modes							= 1

tri_state_reload					= on

hand_dependence 	 				= 1
single_handed						= 0

;-TTX---------------------------------------------------------------------------
;hit_power							= 0.50, 0.50, 0.50, 0.50
;hit_impulse						= 10
hit_type 							= fire_wound
fire_distance						= 560
bullet_speed					 	= 235					; начальная скорость пули
rpm									= 155					; 60 = 1 секунда
rpm_empty_click						= 200

misfire_probability					= 0.005					; вероятность осечки при максимальном износе!!!old - now not working
misfire_start_condition				= 0.6					; изношенность, при которой появляется шанс осечки
misfire_end_condition				= 0.1					; изношеность при которой шанс осечки становится константным
misfire_start_prob	 				= 0						; шанс осечки при изношености больше чем misfireStartCondition
misfire_end_prob	 				= 0						; шанс осечки при изношености больше чем misfireEndCondition
condition_shot_dec					= 0.00025				; увеличение изношености при одиночном выстреле
condition_queue_shot_dec			= 0.0003				; увеличение изношености при выстреле очередью

;---DOF-------------------------------------------------------------------------
zoom_dof							= 0.5, 1.0, 180
;reload_dof							= 0.0, 0.5, 5, 1.7

;-дисперсия---------------------------------------------------------------------
fire_dispersion_base				= 0.07					; угол (в градусах) базовой дисперсии оружия (оружия зажатого в тисках)
fire_dispersion_condition_factor	= 3						; увеличение дисперсии в процентах при максимальном износе
control_inertion_factor				= 1.2f
crosshair_inertion					= 7.75

;-отдача------------------------------------------------------------------------
cam_return							= 0
cam_relax_speed						= 10					; скорость возврата в исходное положение
cam_relax_speed_ai					= 360
cam_dispersion						= 3.0					; увеличения угла (в градусах) с каждым выстрелом
cam_dispersion_inc					= 2.0					; увеличениe cam_dispersion с каждым выстрелом
cam_dispersion_frac					= 0.7
cam_max_angle						= 15.0					; максимальный угол отдачи
cam_max_angle_horz					= 15.0					; (degree) maximum shot horizontal degree
cam_step_angle_horz					= 3.0					; (degree) size of step camera moved in horizontal position while shooting

zoom_cam_relax_speed				= 10					; scope & ironsight
zoom_cam_relax_speed_ai				= 120.75
zoom_cam_dispersion					= 3.0
zoom_cam_dispersion_inc				= 2.5
zoom_cam_dispersion_frac			= 0.7
zoom_cam_max_angle					= 10.0
zoom_cam_max_angle_horz				= 10.0
zoom_cam_step_angle_horz			= 3.0

PDM_disp_base 						= 0.5
PDM_disp_vel_factor 				= 2.0
PDM_disp_accel_factor 				= 2.0
PDM_disp_crouch	 					= 1.0
PDM_disp_crouch_no_acc 				= 1.0

;- for AI ----------------------------------------------------------------------
min_radius 							= 30
max_radius 							= 50

holder_range_modifier				= 1.0					; во сколько раз увеличивается eye_range
holder_fov_modifier					= 1.0					; во сколько раз увеличивается eye_fov

;-------------------------------------------------------------------------------
slot 						 		= 2						; // secondary
animation_slot		 				= 10					; type of the animation that will be used

position 							= -0.024, -0.097, 0.0
orientation							= 0, -4, 0				; значение устанавливается в градусах

fire_point							= 0.0, 0.158, 0.647
fire_point2							= 0.0, 0.158, 0.647

flame_particles					 	= weapons\generic_weapon05
smoke_particles					 	= weapons\generic_shoot_00
shell_particles         			= weapons\12ga
shell_point							= 0.0, 0.180, 0.647

;-STRAP PARAMETERS--------------------------------------------------------------
;на плечо (подмышка)
strap_position 						= -0.26,-0.15,0.15		; position (offset) and orientation of the weapon when it is strapped
strap_orientation					= -15,-9,110			; (3rd person view in degrees)
strap_bone0							= bip01_spine2
strap_bone1							= bip01_spine1

light_color		 					= 0.6,0.5,0.3
light_range		 					= 6.0
light_var_color		 				= 0.05
light_var_range		 				= 0.5
light_time 		 					= 0.2

;-addons------------------------------------------------------------------------
scope_status						= 0
silencer_status						= 0
grenade_launcher_status				= 0

zoom_enabled						= true					; (on,off)zoom mode (right mouse button)
zoom_rotate_time					= 0.25
scope_zoom_factor = 60					; fov for zoom mode

scopes_sect							= scope_susat_proecta, scope_susat_x1.6_proecta, scope_susat_custom_proecta, scope_susat_dusk_proecta, scope_susat_night_proecta
scope_texture						= wpn_crosshair_l85
scope_x								= 63
scope_y								= -1

[wpn_protecta_hud]:hud_base
zoom_hide_crosshair			= true

shell_point			= 0,0,0
shell_dir           = 0,0,0
shell_bone			= gilza

fire_point		  	= 0,0,0
fire_bone               = muzzle


attach_place_idx		= 0
item_visual                   	= dynamics\weapons\wpn_protecta\wpn_protecta_hud

hands_position				= 0.15,-0.05,0.15
hands_orientation			= 0,3,0

hands_position_16x9			= 0.15,-0.05,0.15
hands_orientation_16x9		= 0,3,0

item_position				= 0,0,0
item_orientation			= 0,0,0

aim_hud_offset_pos		= -0.15,-0.007,-0.1
aim_hud_offset_rot		= -0.0045,0.0003,0.0

aim_hud_offset_pos_16x9 = -0.15,-0.007,-0.1
aim_hud_offset_rot_16x9 = -0.0045,0.0003,0.0


anm_show				= protecta_draw
anm_hide				= protecta_holster
anm_idle				= protecta_idle
anm_idle_aim			= protecta_aim
anm_idle_moving			= protecta_move
anm_idle_moving_crouch	= protecta_crouch
anm_idle_sprint			= protecta_sprint
anm_bore				= protecta_aim
anm_shots				= protecta_shoot, shoot
anm_open				= protecta_reload_start, reload_start
anm_add_cartridge		= protecta_reload, reload
anm_close				= protecta_reload_end, reload_end
;-----------------------------------------------------------------------------
; Уникальнvе
;-----------------------------------------------------------------------------
[wpn_protecta_nimble]:wpn_protecta
$spawn          = "weapons\wpn_protecta_nimble"   ; name and section in level editor

cost			= 12000

upgrades							= up_gr_firstab_protecta, up_gr_seconab_protecta, up_gr_thirdab_protecta, up_gr_fourtab_protecta
installed_upgrades					= up_thirda_protecta, up_thirdd_protecta
upgrade_scheme						= upgrade_scheme_protecta

hud									= wpn_protecta_nimble_hud
visual 								= dynamics\weapons\wpn_protecta\wpn_protecta_nimble

inv_grid_width     = 5
inv_grid_height    = 2
inv_grid_x         = 10
inv_grid_y         = 29

upgr_icon_x							= 0
upgr_icon_y							= 900
upgr_icon_width						= 300
upgr_icon_height 					= 150



[wpn_protecta_nimble_hud]:wpn_protecta_hud

item_visual                   	= dynamics\weapons\wpn_protecta\wpn_protecta_nimble_hud

